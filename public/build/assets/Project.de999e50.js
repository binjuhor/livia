import{_ as N}from"./AppLayout.8b15e2d7.js";import{_ as P}from"./SecondaryButton.21f34d9e.js";import{D as S,o as s,e as r,a as e,b as x,w as c,F as y,h as w,c as g,t as n,i as m,f,u as C,n as $,g as v}from"./app.dc95d11d.js";import{_ as z}from"./_plugin-vue_export-helper.cdc0426e.js";const B={name:"Pagination",props:{links:Array},methods:{isPrevious(t){return-1<t.label.indexOf("Previous")},isNext(t){return-1<t.label.indexOf("Next")},isEmpty(t){return t.url===null&&!(this.isPrevious(t)||this.isNext(t))},isActive(t){return t.active===!0}},computed:{previousLink(){var t;return(t=this.links.filter(d=>this.isPrevious(d))[0].url)!=null?t:""},nextLink(){var t;return(t=this.links.filter(d=>this.isNext(d))[0].url)!=null?t:""}}},I={key:0,class:"bg-white px-4 flex items-center justify-between sm:px-6"},L={class:"flex-1 flex justify-between sm:hidden"},M=m(" Previous "),V=m(" Next "),D={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},F={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},H=e("span",{class:"sr-only"},"Previous",-1),O=e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),T=e("span",{class:"sr-only"},"Next",-1),A=e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),E=["href"];function J(t,d,a,_,p,l){const h=S("inertia-link");return a.links.length>3?(s(),r("div",I,[e("div",L,[x(h,{href:l.previousLink,"preserve-scroll":"",class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:c(()=>[M]),_:1},8,["href"]),x(h,{href:l.nextLink,"preserve-scroll":"",class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:c(()=>[V]),_:1},8,["href"])]),e("div",D,[e("div",null,[e("nav",F,[(s(!0),r(y,null,w(a.links,(i,u)=>{var b,o,k,j;return s(),r(y,{key:u},[l.isPrevious(i)?(s(),g(h,{key:0,"preserve-scroll":"",class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",href:(b=i.url)!=null?b:""},{default:c(()=>[H,O]),_:2},1032,["href"])):l.isNext(i)?(s(),g(h,{key:1,"preserve-scroll":"",href:(o=i.url)!=null?o:"",class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},{default:c(()=>[T,A]),_:2},1032,["href"])):l.isEmpty(i)?(s(),r("div",{key:2,href:i.url,"preserve-scroll":"",class:"bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium"},n(i.label),9,E)):l.isActive(i)?(s(),g(h,{key:3,href:(k=i.url)!=null?k:"","aria-current":"page","preserve-scroll":"",class:"z-10 bg-indigo-50 border-indigo-500 text-indigo-600 relative inline-flex items-center px-4 py-2 border text-sm font-medium"},{default:c(()=>[m(n(i.label),1)]),_:2},1032,["href"])):i.active===!1?(s(),g(h,{key:4,href:(j=i.url)!=null?j:"","preserve-scroll":"",class:"bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium"},{default:c(()=>[m(n(i.label),1)]),_:2},1032,["href"])):f("",!0)],64)}),128))])])])])):f("",!0)}const W=z(B,[["render",J]]),K={props:["status"]},q={key:0,class:"bg-gray-100 text-gray-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-gray-700 dark:text-gray-300"},G={key:1,class:"bg-blue-100 text-blue-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-blue-200 dark:text-blue-800"},Q={key:2,class:"bg-red-100 text-red-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-red-200 dark:text-red-900"};function R(t,d,a,_,p,l){return s(),r("div",null,[a.status===null||a.status===0?(s(),r("span",q," Draft ")):f("",!0),a.status===1?(s(),r("span",G," Sent ")):f("",!0),a.status===2?(s(),r("span",Q," Paid ")):f("",!0)])}const U=z(K,[["render",R]]),X={class:"font-semibold text-xl text-gray-800 leading-tight"},Y={class:"py-12"},Z={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ee={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},te={class:"actions"},se=m(" Sync Issues "),re=m(" Create Invoice "),oe={class:"issues"},ie=e("h3",null,"Issues",-1),ae={class:"space-y-6"},ne=e("div",{class:"grid grid-flow-col grid-cols-10"},[e("div",{class:"text-gray-600"},"Jira Key"),e("div",{class:"text-gray-600 col-span-6"},"Summary"),e("div",{class:"text-gray-600"},"Points"),e("div",{class:"text-gray-600"},"Type"),e("div",{class:"text-gray-600"},"Status")],-1),ce={key:0},le={class:"text-gray-600"},de={class:"text-gray-600 col-span-6"},he={class:"text-gray-600"},_e={class:"text-gray-600"},ue={class:"text-gray-600"},xe={class:"flex flex-row-reverse mt-6"},fe={key:1},me=e("div",{class:"flex items-center justify-between"}," We have no issue for this project at the moment. ",-1),ge=[me],ve={class:"invoices"},ye=e("h3",null,"Invoices",-1),pe={class:"space-y-6"},be={key:0},we={class:"text-gray-600"},ke={class:"text-gray-600"},je=["href"],Pe=e("svg",{class:"svg-icon",viewBox:"0 0 20 20"},[e("path",{fill:"none",d:"M17.222,5.041l-4.443-4.414c-0.152-0.151-0.356-0.235-0.571-0.235h-8.86c-0.444,0-0.807,0.361-0.807,0.808v17.602c0,0.448,0.363,0.808,0.807,0.808h13.303c0.448,0,0.808-0.36,0.808-0.808V5.615C17.459,5.399,17.373,5.192,17.222,5.041zM15.843,17.993H4.157V2.007h7.72l3.966,3.942V17.993z"}),e("path",{fill:"none",d:"M5.112,7.3c0,0.446,0.363,0.808,0.808,0.808h8.077c0.445,0,0.808-0.361,0.808-0.808c0-0.447-0.363-0.808-0.808-0.808H5.92C5.475,6.492,5.112,6.853,5.112,7.3z"}),e("path",{fill:"none",d:"M5.92,5.331h4.342c0.445,0,0.808-0.361,0.808-0.808c0-0.446-0.363-0.808-0.808-0.808H5.92c-0.444,0-0.808,0.361-0.808,0.808C5.112,4.97,5.475,5.331,5.92,5.331z"}),e("path",{fill:"none",d:"M13.997,9.218H5.92c-0.444,0-0.808,0.361-0.808,0.808c0,0.446,0.363,0.808,0.808,0.808h8.077c0.445,0,0.808-0.361,0.808-0.808C14.805,9.58,14.442,9.218,13.997,9.218z"}),e("path",{fill:"none",d:"M13.997,11.944H5.92c-0.444,0-0.808,0.361-0.808,0.808c0,0.446,0.363,0.808,0.808,0.808h8.077c0.445,0,0.808-0.361,0.808-0.808C14.805,12.306,14.442,11.944,13.997,11.944z"}),e("path",{fill:"none",d:"M13.997,14.67H5.92c-0.444,0-0.808,0.361-0.808,0.808c0,0.447,0.363,0.808,0.808,0.808h8.077c0.445,0,0.808-0.361,0.808-0.808C14.805,15.032,14.442,14.67,13.997,14.67z"})],-1),Ce=e("span",{class:"text-sm ml-1"},"PDF",-1),$e=[Pe,Ce],ze={class:"text-gray-600"},Ne={key:1},Se=e("div",{class:"flex items-center justify-between"}," We have no invoice for this project at the moment. ",-1),Be=[Se],De={__name:"Project",props:{project:Object,issues:Object},setup(t){const d=t,a=C({}),_=C({jira_key:d.project.jira_key}),p=()=>{a.post(route("projects.createInvoice",d.project.id),{errorBag:"createInvoice",preserveScroll:!0,onSuccess:()=>a.reset()})},l=()=>{_.post(route("projects.syncJira"),{errorBag:"syncJiraProject",preserveScroll:!0,onSuccess:()=>_.reset()})},h=u=>["Story","Task","Bug"][u],i=u=>["To Do","Working","Done"][u];return(u,b)=>(s(),g(N,{title:"Dashboard"},{header:c(()=>[e("h2",X," View project "+n(t.project.name),1)]),default:c(()=>[e("div",Y,[e("div",Z,[e("div",ee,[e("section",te,[x(P,{class:$(["ml-2",{"opacity-25":v(_).processing}]),onClick:l,disabled:v(_).processing},{default:c(()=>[se]),_:1},8,["class","disabled"]),x(P,{class:$(["ml-2",{"opacity-25":v(a).processing}]),onClick:p,disabled:v(a).processing},{default:c(()=>[re]),_:1},8,["class","disabled"])]),e("section",oe,[ie,e("div",ae,[ne,t.issues.data.length>0?(s(),r("div",ce,[(s(!0),r(y,null,w(t.issues.data,o=>(s(),r("div",{class:"grid grid-flow-col grid-cols-10",key:o.id},[e("div",le,n(o.jira_key),1),e("div",de,n(o.summary),1),e("div",he,n(o.story_point),1),e("div",_e,n(h(o.type)),1),e("div",ue,n(i(o.status)),1)]))),128)),e("div",xe,[x(W,{links:t.issues.links},null,8,["links"])])])):(s(),r("div",fe,ge))])]),e("section",ve,[ye,e("div",pe,[t.project.invoices.length>0?(s(),r("div",be,[(s(!0),r(y,null,w(t.project.invoices,o=>(s(),r("div",{class:"flex items-center justify-between",key:o.id},[e("div",we,n(o.reference),1),e("div",ke,[o.pdf_file?(s(),r("a",{key:0,href:o.pdf_file,target:"_blank",class:"flex"},$e,8,je)):f("",!0)]),e("div",null,[x(U,{class:"ml-1",status:o.status},null,8,["status"])]),e("div",ze,n(o.total),1)]))),128))])):(s(),r("div",Ne,Be))])])])])])]),_:1}))}};export{De as default};
